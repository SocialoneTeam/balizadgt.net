<header class="site-header sticky top-0 z-50 bg-white shadow-md">
  <nav class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-20 items-center justify-between">
      <div class="flex items-center gap-3">
        <a href="/" class="flex items-center">
          {% if section.settings.logo %}
            <img src="{{ section.settings.logo | img_url: '140x' }}" alt="{{ shop.name }}" class="h-auto w-auto"> 
          {% else %}
            <img src="{{ 'logo.svg' | asset_url }}" alt="Baliza DGT" class="h-12 w-auto">
          {% endif %}
        </a>
      </div>

      <div class="hidden md:flex items-center gap-8">
        {% for link in linklists[section.settings.menu].links %}
          <a href="{{ link.url }}" class="text-sm font-medium text-gray-700 hover:text-red-600 transition-colors">
            {{ link.title }}
          </a>
        {% endfor %}
        <a href="/cart" class="relative p-2 text-gray-700 hover:text-red-600 transition-colors">
          <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
          </svg>
          <span class="cart-count absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">
            {{ cart.item_count }}
          </span>
        </a>
      </div>

      <button class="md:hidden mobile-menu-toggle p-2 text-gray-700">
        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
    </div>

    <div class="mobile-menu hidden md:hidden py-4 border-t">
      {% for link in linklists[section.settings.menu].links %}
        <a href="{{ link.url }}" class="block w-full text-left px-4 py-3 text-sm font-medium text-gray-700 hover:bg-gray-50">
          {{ link.title }}
        </a>
      {% endfor %}
      <a href="/cart" class="flex items-center justify-between w-full px-4 py-3 text-sm font-medium text-gray-700 hover:bg-gray-50">
        <span>Carrito</span>
        <span class="bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">
          {{ cart.item_count }}
        </span>
      </a>
    </div>
  </nav>
</header>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo personalizado",
      "info": "Si no subes un logo, se usar√° el logo predeterminado de Baliza DGT"
    },
    {
      "type": "text",
      "id": "logo_text",
      "label": "Logo Text (deprecado)",
      "default": "Baliza DGT",
      "info": "Este campo ya no se usa. Usa el logo personalizado arriba."
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu",
      "default": "main-menu"
    }
  ]
}
{% endschema %}
